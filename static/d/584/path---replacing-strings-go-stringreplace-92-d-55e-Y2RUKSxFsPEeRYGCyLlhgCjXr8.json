{"data":{"site":{"siteMetadata":{"title":"Dev Blog","author":"Harrison Brock"}},"markdownRemark":{"id":"c3918a5d-9316-5396-8a3a-8912c13407e9","html":"<p>Every developer needs to know how to work with strings in the language they are using. The Go libraries makes replacing parts of strings easy for a developer. I will show three solutions for replacing parts of a string in Go.</p>\n<p><strong>Solution 1</strong></p>\n<p>The simple way is to use the <strong><a href=\"https://golang.org/pkg/strings/#Replace\">Replace</a></strong> function from the <strong><a href=\"https://golang.org/pkg/strings/\">strings</a></strong> package. This function takes in four values:</p>\n<ol>\n<li><strong>s</strong>: This is the reference string.</li>\n<li><strong>old</strong>: This is the value in the string we want to change.</li>\n<li><strong>new string</strong>: This is the new string value.</li>\n<li><strong>n</strong>: This is the number of times to do the replacement. <strong>If you use -1 it will replace all string values that are equal to the old value</strong></li>\n</ol>\n<!-- more-->\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token string\">\"strings\"</span>\n\t<span class=\"token string\">\"fmt\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> refString <span class=\"token operator\">=</span> <span class=\"token string\">\"Marry had a little duck duck duck\"</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token comment\">// Use this for simple replacement</span>\n\t<span class=\"token comment\">// using -1 tell to replace all matches</span>\n\tout <span class=\"token operator\">:=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Replace</span><span class=\"token punctuation\">(</span>refString<span class=\"token punctuation\">,</span> <span class=\"token string\">\"duck\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Gopher\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This is the output:</p>\n<div class=\"gatsby-highlight\" data-language=\"commandline\"><pre class=\"language-commandline\"><code class=\"language-commandline\">Marry had a little Gopher Gopher duck</code></pre></div>\n<p>If we change line 13 above to:</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\">out <span class=\"token operator\">:=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Replace</span><span class=\"token punctuation\">(</span>refString<span class=\"token punctuation\">,</span> <span class=\"token string\">\"duck\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dog\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>This is the output:</p>\n<div class=\"gatsby-highlight\" data-language=\"commandline\"><pre class=\"language-commandline\"><code class=\"language-commandline\">Marry had a little Gopher Gopher Gopher</code></pre></div>\n<p><strong>Solution 2</strong></p>\n<p>When you have more than one string value to replace you should use the <strong><a href=\"https://golang.org/pkg/strings/#NewReplacer\">NewReplacer</a></strong> function from the <strong><a href=\"https://golang.org/pkg/strings/\">strings</a></strong> packages. This function\nreturns a <strong><a href=\"https://golang.org/src/strings/replace.go?s=676:720#L13\">new Replacer from a list of old, new string pairs</a></strong>. This method can be use to replace multiple string a once.</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token string\">\"strings\"</span>\n\t<span class=\"token string\">\"fmt\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> refString <span class=\"token operator\">=</span> <span class=\"token string\">\"Marry had a little duck duck\"</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\n\treplacer <span class=\"token operator\">:=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">NewReplacer</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Marry\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"duck\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Gopher\"</span><span class=\"token punctuation\">)</span>\n\n\tout <span class=\"token operator\">:=</span> replacer<span class=\"token punctuation\">.</span><span class=\"token function\">Replace</span><span class=\"token punctuation\">(</span>refString<span class=\"token punctuation\">)</span>\n\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This is the output:</p>\n<div class=\"gatsby-highlight\" data-language=\"commandline\"><pre class=\"language-commandline\"><code class=\"language-commandline\">John had a little Gopher Gopher</code></pre></div>\n<p><strong>Solution 3</strong></p>\n<p>The more sophisticated way of replaces substring is to use regular expression or regex. For this solution, we will use the <strong><a href=\"https://golang.org/pkg/regexp/#MustCompile\">MustCompile</a></strong> and <strong><a href=\"https://golang.org/pkg/regexp/#Regexp.ReplaceAllString\">ReplaceAllString</a></strong> from the <strong><a href=\"https://golang.org/pkg/regexp/\">regexp</a></strong> package.</p>\n<ol>\n<li><strong>MustCompile</strong>: Creates our regular expression. In this case, itâ€™s a string that starts with d and is followed by any characters between a and z.</li>\n<li><strong>ReplaceAllStrings</strong>: This will replace substring that matches the regular expression the string Gopher </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token string\">\"regexp\"</span>\n\t<span class=\"token string\">\"fmt\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> refString <span class=\"token operator\">=</span> <span class=\"token string\">\"Marry had a little duck duck\"</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\tregex <span class=\"token operator\">:=</span> regexp<span class=\"token punctuation\">.</span><span class=\"token function\">MustCompile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"d[a-z]+\"</span><span class=\"token punctuation\">)</span>\n\tout <span class=\"token operator\">:=</span> regex<span class=\"token punctuation\">.</span><span class=\"token function\">ReplaceAllString</span><span class=\"token punctuation\">(</span>refString<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Gopher\"</span><span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This would output:</p>\n<div class=\"gatsby-highlight\" data-language=\"commandline\"><pre class=\"language-commandline\"><code class=\"language-commandline\">Mayy had a little Gropher Gopher</code></pre></div>","frontmatter":{"title":"Replacing Parts of a String","date":"November 11, 2018","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHuKdMVGh//xAAZEAACAwEAAAAAAAAAAAAAAAAAAQMhMUL/2gAIAQEAAQUCdnQ0iLT/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAABEAAxcZH/2gAIAQEABj8ClnrGL//EABsQAQACAgMAAAAAAAAAAAAAAAEAERAhQVFx/9oACAEBAAE/IS8HU0G/CBU2VFWpBad3x//aAAwDAQACAAMAAAAQE8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhEDFRYf/aAAgBAQABPxBwg/CGXaggMd5YKvFuE0GeuAhtBb7Rhx//2Q==","aspectRatio":1.7804878048780488,"src":"/devblog/static/8b99ed0dac6ba25c4b6e1dc81286c5f6/aa88c/featured.jpg","srcSet":"/devblog/static/8b99ed0dac6ba25c4b6e1dc81286c5f6/f1a0e/featured.jpg 213w,\n/devblog/static/8b99ed0dac6ba25c4b6e1dc81286c5f6/2b21f/featured.jpg 425w,\n/devblog/static/8b99ed0dac6ba25c4b6e1dc81286c5f6/aa88c/featured.jpg 730w","sizes":"(max-width: 730px) 100vw, 730px"}}}}}},"pageContext":{"slug":"/replacing-strings-go/stringreplace/","previous":{"fields":{"slug":"/welcome-to-the-blog/"},"excerpt":"\nWelcome to the new blog, I hope you enjoy your stay! This is an example of how you can control what excerpt shows up.\n\n","frontmatter":{"title":"Welcome to the Blog!","date":"July 1, 2018","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGQAAAQUAAAAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwAB/9oADAMBAAIQAxAAAAHKtownhAs//8QAFxABAQEBAAAAAAAAAAAAAAAAAAIyA//aAAgBAQABBQKIVhxTp//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASf/xAAWEQADAAAAAAAAAAAAAAAAAAABEEH/2gAIAQIBAT8BNX//xAAZEAEAAgMAAAAAAAAAAAAAAAABABAxQXH/2gAIAQEABj8CgbM08jX/xAAbEAACAgMBAAAAAAAAAAAAAAAAAREhMUFRof/aAAgBAQABPyGR9LoObhCdmZeU0f/aAAwDAQACAAMAAAAQiy//xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhYf/aAAgBAwEBPxBIS0o//8QAFhEAAwAAAAAAAAAAAAAAAAAAARCR/9oACAECAQE/EChf/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAERMVGBoSGxwf/aAAgBAQABPxBHE5LRFKTYFRUSxYcW5G9Nv4KjPbP/2Q==","aspectRatio":2.2,"src":"/devblog/static/09591b6c0ecf431ce8117c089d40cc3a/6b3a1/featured.jpg","srcSet":"/devblog/static/09591b6c0ecf431ce8117c089d40cc3a/182ff/featured.jpg 213w,\n/devblog/static/09591b6c0ecf431ce8117c089d40cc3a/7f5c7/featured.jpg 425w,\n/devblog/static/09591b6c0ecf431ce8117c089d40cc3a/6b3a1/featured.jpg 850w,\n/devblog/static/09591b6c0ecf431ce8117c089d40cc3a/838e8/featured.jpg 1100w","sizes":"(max-width: 850px) 100vw, 850px"}}}}},"next":null}}